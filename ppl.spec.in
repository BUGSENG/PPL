%define name	ppl
%define version @VERSION@
%define release 1
%define builddir $RPM_BUILD_DIR/%{name}-%{version}

Name:		%{name}
Version:	%{version}
Release:	%{release}
Vendor:		ppl-devel@cs.unipr.it
Packager:	%{packager}
URL:		http://www.cs.unipr.it/ppl/
Source:         ftp://ftp.cs.unipr.it/ppl/%{name}-%{version}.tar.gz
#Patch:		
Group:		Development/Libraries
Copyright:	GPL
#Icon:		
Requires:	gmp >= 4.0.1, gcc-c++ >= 3.0.4
BuildRoot:	%{_tmppath}/%{name}-%{version}
Prefix:		/usr
Summary:	The Parma Polyhedra Library: a C++ library for convex polyhedra.
%description
The Parma Polyhedra Library (PPL) is a C++ library for the
manipulation of convex polyhedra. The applications of convex polyhedra
include program analysis, optimized compilation, integer and
combinatorial optimization and statistical data-editing.  The Parma
Polyhedra Library is user friendly (you write `x + 2*y + 5*z <= 7'
when you mean it), fully dynamic (available virtual memory is the only
limitation to the dimension of anything), written in standard C++,
exception-safe, rather efficient, thoroughly documented, and free
software.

%prep
%setup -n %{name}-%{version}
#%patch -p1

%build
CXXFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=%{_prefix} --enable-shared
make

%install
if [ -d $RPM_BUILD_ROOT ]
then
	rm -rf $RPM_BUILD_ROOT
fi
mkdir -p $RPM_BUILD_ROOT
make install prefix=$RPM_BUILD_ROOT%{_prefix}

%files
%defattr(-,root,root)
%doc README doc/*.ps* doc/*.pdf*
%{_libdir}/*.so.*
%{_libdir}/*.so
%{_libdir}/*.a
%{_libdir}/*.la
%{_includedir}/ppl.hh

%post
/sbin/ldconfig

%postun
/sbin/ldconfig

%clean
rm -rf $RPM_BUILD_ROOT
